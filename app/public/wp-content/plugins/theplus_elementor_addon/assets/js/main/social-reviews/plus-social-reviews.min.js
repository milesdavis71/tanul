!function(){"use strict";function t(t,u){t.find(".tp-social-reviews").each(function(){var e=u(this),o=e.data("id"),i=e.data("scroll-normal");if(1==i.ScrollOn&&0==i.TextLimit){let t=e.find(".showtext");t.each(function(){u(this)[0].clientHeight>=i.Height&&(u(this).addClass(i.className),u(this).css("height",i.Height))})}u(document).on("click","."+o+".tp-social-reviews .readbtn",function(){var e=u(this).closest(".tp-message"),t=e.closest(".list-isotope .post-inner-loop"),o=e.closest(".tp-social-reviews").data("scroll-normal"),i=e.find(".showtext");if(e.hasClass("show-text"))e.removeClass("show-text show-less"),u(this).html("Show More"),e.find(".sf-dots").css("display","inline"),1==o.ScrollOn&&1==o.TextLimit&&(i.removeClass(o.className),i.removeAttr("style"));else{e.addClass("show-text show-less"),u(this).html("Show Less"),e.find(".sf-dots").css("display","none");let t=u(".tp-social-reviews").find(i);1==o.ScrollOn&&1==o.TextLimit&&t.each(function(){u(this)[0].clientHeight>=o.Height&&(i.addClass(o.className),i.css("height",o.Height))})}t.isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"})}),u("."+o).on("click",".batch-btn-no",function(t){t.preventDefault(),this.closest(".tp-batch-recommend").style.display="none"});var a,s,l,p,h,n,d,f=0;0<u("."+o+".tp-social-reviews").find(".ajax_load_more").length&&u("."+o+" .post-load-more").on("click",function(t){t.preventDefault();var n=u(this),t=n.data("loadattr"),e=n.data("loadview"),d=n.data("loadclass"),r=n.data("layout"),o=n.data("loadingtxt"),c=n.text();n.data("requestRunning")||(n.data("requestRunning",!0),u.ajax({type:"POST",data:"action=tp_reviews_load&view="+f+"&feedshow="+e+"&loadattr="+t,url:theplus_ajax_url,beforeSend:function(){u(n).text(o)},success:function(o){var t=JSON.parse(o),a=t&&t.HTMLContent?t.HTMLContent:"",s=t&&t.TotalReview?t.TotalReview:"",l=t&&t.FilterStyle?t.FilterStyle:"",o=t&&t.allposttext?t.allposttext:"";if(""==t)u(n).addClass("hide");else{let i="."+d,t=u(i+" .all .all_post_count"),e=u(i+" .post-inner-loop");e.append(a);a=u(i).find(".grid-item").length;u(t).html("").append(a),"style-2"!=l&&"style-3"!=l||(l=u(i+" .category-filters li .filter-category-list").not(".all"),u.each(l,function(t,e){var o=u(e).find("span:nth-child(2)").data("hover"),o=u(i).find(".grid-item."+o).length;u(e).find("span:nth-child(1).all_post_count").html("").append(o)})),"grid"!=r&&"masonry"!=r||u(i).hasClass("list-isotope")&&u(e).isotope("layout").isotope("reloadItems"),s<=a?(u(n).addClass("hide"),u(n).parent(".ajax_load_more").append('<div class="plus-all-posts-loaded">'+o+"</div>")):u(n).text(c)}f+=e},complete:function(){n.data("requestRunning",!1)}}).then(function(){u("."+d).hasClass("list-isotope")&&("grid"!=r&&"masonry"!=r||u("."+d+" .post-inner-loop").isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"}))}))}),u("body").find("."+o+" .ajax_lazy_load").length&&(n=u(window),(d=function(){n.width(),a=n.height(),s=u("body").height(),p=u("."+o+".list-isotope").height(),h=u("."+o+".list-isotope").offset().top+50,setTimeout(function(){p=u("."+o+".list-isotope").height(),h=u("."+o+".list-isotope").offset().top+50},50)})(),n.resize(d),n.bind("scroll",function(t){t.preventDefault(),d(),l=n.scrollTop(),u("."+o+".list-isotope").each(function(){var n,t,e,d,r,o,c;p=u(this).height(),h=u(this).offset().top+50,u(this).find(".post-lazy-load").length&&l<s&&p+h-a<l+60&&(t=(n=u(this).find(".post-lazy-load")).data("lazyattr"),e=n.data("lazyview"),d=n.data("lazyclass"),r=n.data("lazylayout"),o=n.data("loadingtxt"),c=n.text(),n.data("requestRunning")||(n.data("requestRunning",!0),u.ajax({type:"POST",data:"action=tp_reviews_load&view="+f+"&feedshow="+e+"&loadattr="+t,url:theplus_ajax_url,beforeSend:function(){u(n).text(o)},success:function(o){var t=JSON.parse(o),a=t&&t.HTMLContent?t.HTMLContent:"",s=t&&t.TotalReview?t.TotalReview:"",l=t&&t.FilterStyle?t.FilterStyle:"",o=t&&t.allposttext?t.allposttext:"";if(""==t)u(loadFeed_click).addClass("hide");else{let i="."+d,t=u(i+" .all .all_post_count"),e=u(i+" .post-inner-loop");e.append(a);a=u(i).find(".grid-item").length;u(t).html("").append(a),"style-2"!=l&&"style-3"!=l||(l=u(i+" .category-filters li .filter-category-list").not(".all"),u.each(l,function(t,e){var o=u(e).find("span:nth-child(2)").data("hover"),o=u(i).find(".grid-item."+o).length;u(e).find("span:nth-child(1).all_post_count").html("").append(o)})),"grid"!=r&&"masonry"!=r||u(i).hasClass("list-isotope")&&u(e).isotope("layout").isotope("reloadItems"),s<=a?(u(n).addClass("hide"),u(n).parent(".ajax_load_more").append('<div class="plus-all-posts-loaded">'+o+"</div>")):u(n).text(c)}f+=e},complete:function(){n.data("requestRunning",!1)}}).then(function(){}).then(function(){u("."+d).hasClass("list-isotope")&&("grid"!=r&&"masonry"!=r||u("."+d+" .post-inner-loop").isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"}))})))})})),u(".tp-social-reviews .tp-SR-copy-icon").unbind().click(function(){let t=this,e=document.createElement("textarea");e.value=t.dataset.copypostid,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),t.innerHTML='<svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve" ><path fill="#fff" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite" /></path></svg>',setTimeout(function(){t.innerHTML='<i class="far fa-copy CopyLoading"></i>'},500)})})}jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tp-social-reviews.default",t)})}();